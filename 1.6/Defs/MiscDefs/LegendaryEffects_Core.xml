<?xml version="1.0" encoding="UTF-8"?>
<Defs>

    <!--__________ Legendary Effects __________-->

    <!--_____ Legendary Effect Defs _____-->

    <!-- Assassin's -->

    <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Assassins</defName>
        <label>Assassin's</label>
        <description>Does 50% more damage against humans</description>
        <legendaryEffectWorkerClass>FCP.Core.LegendaryEffectWorkers.AssassinsWorker</legendaryEffectWorkerClass>
        <commonality>1</commonality>
        <weaponCategory>Gun</weaponCategory>
    </FCP.Core.LegendaryWeaponTraitDef>

    <!-- Bloodied -->

    <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Bloodied</defName>
        <label>Bloodied</label>
        <description>Does more damage the lower the character's health</description>
        <legendaryEffectWorkerClass>FCP.Core.LegendaryEffectWorkers.BloodiedWorker</legendaryEffectWorkerClass>
        <commonality>1</commonality>
        <weaponCategory>Gun</weaponCategory>
    </FCP.Core.LegendaryWeaponTraitDef>

    <!-- Explosive -->

    <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Explosive</defName>
        <label>Explosive</label>
        <description>Bullets explode on impact</description>
        <legendaryEffectWorkerClass>FCP.Core.LegendaryEffectWorkers.ExplosiveWorker</legendaryEffectWorkerClass>
        <commonality>1</commonality>
        <weaponCategory>Gun</weaponCategory>
    </FCP.Core.LegendaryWeaponTraitDef>

    <!-- Incendiary -->

    <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Incendiary</defName>
        <label>Incendiary</label>
        <description>Sets target on fire</description>
        <legendaryEffectWorkerClass>FCP.Core.LegendaryEffectWorkers.IncendiaryWorker</legendaryEffectWorkerClass>
        <commonality>1</commonality>
        <weaponCategory>Gun</weaponCategory>
    </FCP.Core.LegendaryWeaponTraitDef>

    <!-- Instigating -->

    <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Instigating</defName>
        <label>Instigating</label>
        <description>Double damage if the target is full health</description>
        <legendaryEffectWorkerClass>FCP.Core.LegendaryEffectWorkers.InstigatingWorker</legendaryEffectWorkerClass>
        <commonality>1</commonality>
        <weaponCategory>Gun</weaponCategory>
    </FCP.Core.LegendaryWeaponTraitDef>

    <!-- Junkie's -->

    <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Junkies</defName>
        <label>Junkie's</label>
        <description>Does 15% more damage for each addiction the user has</description>
        <legendaryEffectWorkerClass>FCP.Core.LegendaryEffectWorkers.JunkiesWorker</legendaryEffectWorkerClass>
        <commonality>1</commonality>
        <weaponCategory>Gun</weaponCategory>
    </FCP.Core.LegendaryWeaponTraitDef>

    <!-- Powerful -->

    <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Powerful</defName>
        <label>Powerful</label>
        <description>Provides 25% more damage</description>
        <legendaryEffectWorkerClass>FCP.Core.LegendaryEffectWorkers.PowerfulWorker</legendaryEffectWorkerClass>
        <commonality>1</commonality>
        <weaponCategory>Gun</weaponCategory>
    </FCP.Core.LegendaryWeaponTraitDef>

    <!-- Enraging -->

    <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Enraging</defName>
        <label>Enraging</label>
        <description>R.A.T.S. hits cause target to frenzy</description>
        <legendaryEffectWorkerClass>FCP.Core.LegendaryEffectWorkers.EnragingWorker</legendaryEffectWorkerClass>
        <commonality>1</commonality>
        <weaponCategory>Gun</weaponCategory>
    </FCP.Core.LegendaryWeaponTraitDef>

    <!-- Kneecapper -->
    
    <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Kneecapper</defName>
        <label>Kneecapper</label>
        <description>20% chance to cripple all of the target's legs.</description>
        <legendaryEffectWorkerClass>FCP.Core.LegendaryEffectWorkers.KneeCapperWorker</legendaryEffectWorkerClass>
        <commonality>1</commonality>
        <weaponCategory>Gun</weaponCategory>
    </FCP.Core.LegendaryWeaponTraitDef>

    <!-- Poisoner's -->

    <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Poisoners</defName>
        <label>Poisoner's</label>
        <description>Target is poisoned for 10 seconds (3 points poison damage per second).</description>
        <legendaryEffectWorkerClass>FCP.Core.LegendaryEffectWorkers.PoisonersWorker</legendaryEffectWorkerClass>
        <commonality>1</commonality>
        <weaponCategory>Gun</weaponCategory>
    </FCP.Core.LegendaryWeaponTraitDef>

    <!-- Staggering -->

    <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Staggering</defName>
        <label>Staggering</label>
        <description>Chance to stagger on hit</description>
        <extraDamages>
            <li>
                <def>Stun</def>
                <amount>4</amount>
            </li>
        </extraDamages>
        <commonality>1</commonality>
        <weaponCategory>Gun</weaponCategory>
    </FCP.Core.LegendaryWeaponTraitDef>

    <!-- V.A.T.S. Enhanced -->

    <!-- <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_VATSEnhanced</defName>
        <label>V.A.T.S. Enhanced</label>
        <description>33% faster R.A.T.S. cooldown</description>
        <IsForWeapon>true</IsForWeapon>
        <IsForMelee>true</IsForMelee>
        <IsForApparel>false</IsForApparel>
        <VATS_Multiplier>0.66</VATS_Multiplier>
    </FCP.Core.LegendaryWeaponTraitDef> -->

    <!-- Powered -->

    <!-- <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Powered</defName>
        <label>Powered</label>
        <description>25% faster R.A.T.S. cooldown</description>
        <IsForWeapon>false</IsForWeapon>
        <IsForMelee>false</IsForMelee>
        <IsForApparel>true</IsForApparel>
        <VATS_Multiplier>0.75</VATS_Multiplier>
    </FCP.Core.LegendaryWeaponTraitDef> -->

    <!-- Sprinters -->

    <!-- <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Sprinters</defName>
        <label>Sprinters</label>
        <description>Increases movement speed by 10%.</description>
        <IsForWeapon>false</IsForWeapon>
        <IsForMelee>false</IsForMelee>
        <IsForApparel>true</IsForApparel>
        <statFactors>
            <MoveSpeed>1.1</MoveSpeed>
        </statFactors>
    </FCP.Core.LegendaryWeaponTraitDef> -->

    <!-- Stable -->

    <!-- <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Stable</defName>
        <label>Stable</label>
        <description>Decreases risk of mental breaks by 50%.</description>
        <IsForWeapon>false</IsForWeapon>
        <IsForMelee>false</IsForMelee>
        <IsForApparel>true</IsForApparel>
        <statFactors>
            <MentalBreakThreshold>0.5</MentalBreakThreshold>
        </statFactors>
    </FCP.Core.LegendaryWeaponTraitDef> -->

    <!-- Psychically Sensitive -->

    <!-- <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Psy</defName>
        <label>Psychically Sensitive</label>
        <description>Boosts Psychic Sensitivity by 30%.</description>
        <IsForWeapon>false</IsForWeapon>
        <IsForMelee>false</IsForMelee>
        <IsForApparel>true</IsForApparel>
        <statFactors>
            <PsychicSensitivity>1.3</PsychicSensitivity>
        </statFactors>
    </FCP.Core.LegendaryWeaponTraitDef> -->

    <!-- Smart -->

    <!-- <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Smart</defName>
        <label>Smart</label>
        <description>Boosts global learning factor by 25%..</description>
        <IsForWeapon>false</IsForWeapon>
        <IsForMelee>false</IsForMelee>
        <IsForApparel>true</IsForApparel>
        <statFactors>
            <GlobalLearningFactor>1.25</GlobalLearningFactor>
        </statFactors>
    </FCP.Core.LegendaryWeaponTraitDef> -->

    <!-- Healing -->

    <!-- <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Healing</defName>
        <label>Healing</label>
        <description>Boosts injury healing factor by 25%..</description>
        <IsForWeapon>false</IsForWeapon>
        <IsForMelee>false</IsForMelee>
        <IsForApparel>true</IsForApparel>
        <statFactors>
            <InjuryHealingFactor>1.25</InjuryHealingFactor>
        </statFactors>
    </FCP.Core.LegendaryWeaponTraitDef> -->

    <!-- Pocketed -->

    <!-- <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Pocketed</defName>
        <label>Pocketed</label>
        <description>Boosts carying capacity by 25%..</description>
        <IsForWeapon>false</IsForWeapon>
        <IsForMelee>false</IsForMelee>
        <IsForApparel>true</IsForApparel>
        <statFactors>
            <CarryingCapacity>1.25</CarryingCapacity>
        </statFactors>
    </FCP.Core.LegendaryWeaponTraitDef> -->

    <!-- Armourer's -->

    <!-- <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Armourers</defName>
        <label>Armourer's</label>
        <description>Boosts armour rating by 25%..</description>
        <IsForWeapon>false</IsForWeapon>
        <IsForMelee>false</IsForMelee>
        <IsForApparel>true</IsForApparel>
        <statFactors>
            <ArmorRating_Sharp>1.25</ArmorRating_Sharp>
            <ArmorRating_Blunt>1.25</ArmorRating_Blunt>
            <ArmorRating_Heat>1.25</ArmorRating_Heat>
        </statFactors>
    </FCP.Core.LegendaryWeaponTraitDef> -->

    <!-- Insulated -->

    <!-- <FCP.Core.LegendaryWeaponTraitDef>
        <defName>FCP_VATSLegendaryEffect_Insulated</defName>
        <label>Insulated</label>
        <description>Boosts insulation rating by 25%..</description>
        <IsForWeapon>false</IsForWeapon>
        <IsForMelee>false</IsForMelee>
        <IsForApparel>true</IsForApparel>
        <statFactors>
            <Insulation_Cold>1.25</Insulation_Cold>
            <Insulation_Heat>1.25</Insulation_Heat>
        </statFactors>
    </FCP.Core.LegendaryWeaponTraitDef> -->

    <!--_____ Damage Defs _____-->

    <!-- Crippled -->

    <DamageDef>
        <defName>FCP_VATSCrippled</defName>
        <label>crippled</label>
        <workerClass>DamageWorker_AddInjury</workerClass>
        <externalViolence>true</externalViolence>
        <deathMessage>{0} has been killed by a crippling injury.</deathMessage>
        <hediffSkin>Cut</hediffSkin>
        <hediffSolid>Crack</hediffSolid>
        <harmsHealth>false</harmsHealth>
        <makesBlood>false</makesBlood>
        <canInterruptJobs>false</canInterruptJobs>
        <execution>false</execution>
        <buildingDamageFactor>0</buildingDamageFactor>
        <plantDamageFactor>0</plantDamageFactor>
        <corpseDamageFactor>0</corpseDamageFactor>
        <hasForcefulImpact>true</hasForcefulImpact>
        <harmAllLayersUntilOutside>true</harmAllLayersUntilOutside>
        <impactSoundType>Blunt</impactSoundType>
        <armorCategory>Blunt</armorCategory>
        <overkillPctToDestroyPart>1.0</overkillPctToDestroyPart>
    </DamageDef>

    <!--_____ Hediff Defs _____-->

    <!-- Poisoned -->

    <HediffDef ParentName="DiseaseBase">
        <defName>FCP_VATSPoisoning</defName>
        <label>poisoned</label>
        <description>Poisoned by a legendary effect.</description>
        <scenarioCanAdd>false</scenarioCanAdd>
        <initialSeverity>1</initialSeverity>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-2.5</severityPerDay>
            </li>
        </comps>
        <stages>
            <li>
                <label>recovering</label>
                <vomitMtbDays>1</vomitMtbDays>
                <painOffset>0.2</painOffset>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <postFactor>0.6</postFactor>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <postFactor>0.8</postFactor>
                    </li>
                    <li>
                        <capacity>Manipulation</capacity>
                        <postFactor>0.9</postFactor>
                    </li>
                    <li>
                        <capacity>BloodFiltration</capacity>
                        <postFactor>0.95</postFactor>
                    </li>
                    <li>
                        <capacity>Eating</capacity>
                        <postFactor>0.5</postFactor>
                    </li>
                </capMods>
            </li>
            <li>
                <label>major</label>
                <minSeverity>0.2</minSeverity>
                <vomitMtbDays>2</vomitMtbDays>
                <painOffset>0.4</painOffset>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <postFactor>0.5</postFactor>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <postFactor>0.5</postFactor>
                    </li>
                    <li>
                        <capacity>Manipulation</capacity>
                        <postFactor>0.8</postFactor>
                    </li>
                    <li>
                        <capacity>BloodFiltration</capacity>
                        <postFactor>0.85</postFactor>
                    </li>
                    <li>
                        <capacity>Talking</capacity>
                        <postFactor>0.8</postFactor>
                    </li>
                    <li>
                        <capacity>Eating</capacity>
                        <postFactor>0.3</postFactor>
                    </li>
                </capMods>
            </li>
            <li>
                <label>initial</label>
                <minSeverity>0.8</minSeverity>
                <vomitMtbDays>4</vomitMtbDays>
                <painOffset>0.2</painOffset>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <postFactor>0.6</postFactor>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <postFactor>0.8</postFactor>
                    </li>
                    <li>
                        <capacity>Manipulation</capacity>
                        <postFactor>0.9</postFactor>
                    </li>
                    <li>
                        <capacity>BloodFiltration</capacity>
                        <postFactor>0.95</postFactor>
                    </li>
                    <li>
                        <capacity>Eating</capacity>
                        <postFactor>0.5</postFactor>
                    </li>
                </capMods>
            </li>
        </stages>
    </HediffDef>

    <!-- Crippled -->

    <HediffDef ParentName="InjuryBase">
        <defName>FCP_VATSCrippledHediff</defName>
        <label>crippled</label>
        <labelNoun>crippled</labelNoun>
        <description>Crippled.</description>
        <comps>
            <li Class="HediffCompProperties_TendDuration">
                <labelTendedWell>bandaged</labelTendedWell>
                <labelTendedWellInner>sutured</labelTendedWellInner>
                <labelSolidTendedWell>set</labelSolidTendedWell>
            </li>
        </comps>
        <stages>
            <li>
                <label>crippled</label>
                <capMods>
                    <li>
                        <capacity>Moving</capacity>
                        <setMax>0</setMax>
                    </li>
                </capMods>
            </li>
        </stages>
        <injuryProps>
            <painPerSeverity>0.0125</painPerSeverity>
            <averagePainPerSeverityPermanent>0.00625</averagePainPerSeverityPermanent>
            <bleedRate>0.00</bleedRate>
            <canMerge>false</canMerge>
            <destroyedLabel>Cut off</destroyedLabel>
            <destroyedOutLabel>Cut out</destroyedOutLabel>
        </injuryProps>
    </HediffDef>

    <!--_____ Effecter Defs _____-->

    <!-- Explosion Effecter -->

    <EffecterDef>
        <defName>FCP_VATSLegendaryEffect_Explosive_Explosion</defName>
        <children>
            <li>
                <subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
                <moteDef>Mote_GiantExplosion</moteDef>
                <scale>0.2~0.2</scale>
            </li>
            <li>
                <subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
                <moteDef>Mote_GiantExplosionInner</moteDef>
                <scale>1~1</scale>
            </li>
        </children>
    </EffecterDef>

</Defs>
